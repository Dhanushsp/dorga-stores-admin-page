<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login</title>

    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js"></script>
    
    <!-- Firebase Authentication -->
    <script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js"></script>
</head>
<body>
    <h1>Admin Login</h1>
    <form id="admin-login-form">
        <input type="email" id="admin-email" placeholder="Email" required>
        <input type="password" id="admin-password" placeholder="Password" required>
        <button type="submit">Login</button>
    </form>

     <!-- Firebase Configuration and Initialization -->
     <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js";
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyAxXoLvQvjsBjgik7-EXQvjbQ-kdPq_3V0",
          authDomain: "dorga-general-stores.firebaseapp.com",
          databaseURL: "https://dorga-general-stores-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "dorga-general-stores",
          storageBucket: "dorga-general-stores.appspot.com",
          messagingSenderId: "859715235168",
          appId: "1:859715235168:web:def19f0c3b158f5f0f8205"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Login form submission handler
        document.getElementById('admin-login-form').addEventListener('submit', function(e) {
            e.preventDefault();

            // Get the email and password values
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;

            // Sign in with Firebase Authentication
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in 
                    const user = userCredential.user;

                    // Check if the user is the admin
                    if (user.email === 'admin@example.com') { // Replace with your admin's email
                        // Redirect to the admin page
                        window.location.href = 'admin-page.html';
                    } else {
                        alert('Unauthorized access');
                    }
                })
                .catch((error) => {
                    // Handle Errors here.
                    alert(error.message);
                });
        });
      </script> 

   
</body>
</html>
